#my_pending_events.card.mb-5
  .card-header.d-flex.align-items-center
    %span My Pending Events

    = link_to 'New Event', new_event_path, class: 'btn btn-outline-secondary ms-auto'
  -if @my_pending_events.count > 0
    .card-body
      %table.table
        %thead
          %tr
            %th Name
            %th Status
            %th
        %tbody
          - @my_pending_events.each do |event|
            %tr[event]
              %td.event_name
                %a.black{href: edit_event_path(event)}
                  = event.name
              %td.event_status

                %a{href: edit_event_path(event)}
                  %i{:class => event.decorate.approved_icon + " " + event.decorate.approved_colour, data: { bs: { toggle: "tooltip", placement: "top", html: "true" }, title: event.decorate.approved_desc}}
              %td
                .row
                  .col
                    %a{href: edit_event_path(event)}
                      %i.bi-pencil-square
                  .col
                    %a{href: event_path(event), method: :delete, data: { confirm: 'Are you sure you want to delete this event?' }, class: 'red ms-auto' }
                      %i.bi-trash

- if current_user.admin? && @all_pending_events.count > 0
  #pending_events.card.mb-5
    .card-header.d-flex.align-items-center
      %span Pending Events

      = link_to 'New Event', new_event_path, class: 'btn btn-outline-secondary ms-auto'
    .card-body
      %table.table
        %thead
          %tr
            %th Name
            %th Creator
            %th Actions
        %tbody
          - @all_pending_events.each do |event|
            %tr{class: "pending_event"}[event]
              %td
                =link_to event.name, edit_event_path(event)
              %td
                =link_to event.user.full_name, user_path(event.user)
              %td
                .row

                  .col
                    = link_to approval_event_path(id: event, approved: "true"), class: 'approve_event btn' + (event.approved == true ? " btn-primary" : " btn-outline-primary"), title: 'app', method: :patch, data: { remote: true } do
                      %i.bi-hand-thumbs-up

                  .col
                    = link_to approval_event_path(id: event, approved: "false"), class: 'disapprove_event btn' + (event.approved.nil? ? " btn-outline-danger" : " btn-danger"), title: 'app', method: :patch, data: { remote: true } do
                      %i.bi-hand-thumbs-down


