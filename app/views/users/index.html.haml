.card
  .card-header.d-flex.align-items-center
    %span Listing Users

  %table.table
    %thead
      %tr
        %th Role
        %th Full Name
        %th Suspended
        %th Locking
        %th
    %tbody
      - @users.each do |user|
        %tr
          %td= user.role
          %td= user.full_name
          %td
            - if user != current_user &&  user.commercial
              - if !user.suspended
                = link_to 'Suspend', suspend_user_path(user), method: :put, data: { confirm: 'Are you sure?' }, class: 'btn btn-outline-danger ms-1 btn-sm'
              - else
                = link_to 'Reinstate', reinstate_user_path(user), method: :put, class: 'btn btn-outline-secondary ms-1 btn-sm'
          %td
            - if user != current_user
              - if !user.access_locked?
                = link_to 'Lock', lock_user_path(user), method: :put, data: { confirm: 'Are you sure?' }, class: 'btn btn-outline-danger ms-1 btn-sm'
              - else
                = link_to 'Unlock', unlock_user_path(user), method: :put, class: 'btn btn-outline-secondary ms-1 btn-sm'
          %td
            .btn-toolbar.float-end
              = link_to 'Show', user, class: 'btn btn-outline-secondary btn-sm'
              - if user != current_user
                = link_to 'Edit', edit_user_path(user), class: 'btn btn-outline-secondary ms-1 btn-sm'
                = link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-outline-danger ms-1 btn-sm'
